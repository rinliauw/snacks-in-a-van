{{!Homepage for the customer website}}
<section id="homePage">
    <div class="col1">
        <h1>Snacks in a Van</h1>
        <hr>
        <p>
            Welcome! This is a project to create web apps for 'Snacks in A Van' a new startup company operating in
            Melbourne.
            There will be 2 web apps, one for the customers and one for the vendors.
        </p>
        <!--<button onclick="location.href = '/customer/nearest-van'">FIND NEAREST VAN</button>!-->
        <form method="POST" action="/customer/nearest-van" id="get_nearest_form">
            <input type="hidden" id="location" name="location">
            <input type="button" onclick="getNearestVan()" value="Find Nearest Van">
            <br>
        </form>
    </div>

    <div class="col2">
        <img src="https://pngimg.com/uploads/mug_coffee/mug_coffee_PNG16824.png">
    </div>

    <script>
        // One way to solve the "required double click"
        // Change Button behaviour from submit to run this function, then let the call back function do the submit
        function getNearestVan(){
            console.log("Get Nearest Van")

            // Call back function
            navigator.geolocation.getCurrentPosition(function (position){
                lat = position.coords.latitude;
                lon = position.coords.longitude;
                console.log(lat, lon);

                a = JSON.stringify({ 'latitude': lat, 'longitude': lon })
                console.log(a)

                // Set Element Location 
                document.getElementById('location').value = a;

                // Submit After Successfully Getting Position from geoLocation API
                document.getElementById("get_nearest_form").submit()
            })
        }

    </script>
</section>


