{{! view customer order}}

<section id = "currentCart">
    <center><a href="/customer/order-history">View Order History</a></center>
    <h1>Cart List</h1>
    {{#if loggedin}}
    <div class= "cart-page">
        {{#if total}}
        <table>
            <tr>
                <th>Product</th>
                <th>Quantity</th>
                <th>Subtotal</th>
                
            </tr>
            {{#each cart}}
            {{#if this.quantity}}
            <tr>
                <td>
                    <div class="cart-info">
                        <img class="currentCart" src="https://source.unsplash.com/{{this.snackId.photo}}" alt="hosted by Unsplash">
                        <div>
                            <p>{{this.snackId.name}}</p>
                            <small>Price: ${{this.snackId.price}}</small>
                        </div>
                    </div>
                </td>
                <td>{{this.quantity}}</td>
                <td>{{multiply this.snackId.price this.quantity}}</td>
                  
            </tr>
            {{/if}}
            {{/each}}
        </table>
        {{else}}
        <p>Your cart is empty</p>
        {{/if}}
    </div>
    {{#if total}}
    <div class="total-price">
        <table>
            <tr>
                <td><b>Total Price</b></td>
                <td>${{total}}</td>
            </tr>
            <tr>
                <td> <button onclick="location.href = '/customer/snacks'">CHANGE ORDER</button></td>
                <td> <button onclick="location.href = '/customer/order-details'">CONFIRM ORDER</button></td>
                </div>
            </tr>
        </table>
    </div>
    {{/if}}
    {{else}}
    <p><a href="/customer/getLoginPage">Login to view order history</a></p>
    {{/if}}
</section>

<script>
// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>